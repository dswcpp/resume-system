{
  "id": "ep_002",
  "question": "交叉编译遇到过哪些问题？动态库依赖冲突怎么解决的？",
  "tags": [
    "交叉编译",
    "ARM64",
    "动态库",
    "工具链"
  ],
  "difficulty": 2,
  "hint": "想想RK3399项目中搭建环境时踩过的坑",
  "answer": "在营业厅项目中搭建RK3399（ARM64）**交叉编译**环境，主要遇到以下问题：\n\n**1. 工具链版本不匹配**\n- 问题：aarch64-linux-gnu-g++版本与目标板系统库版本不兼容\n- 解决：确认目标板glibc版本，选择对应的交叉编译器版本\n\n**2. 动态库依赖冲突**\n- 问题：Qt运行时库在x86下编译的.so无法在ARM上运行\n- 解决：使用交叉编译工具链重新编译Qt及所有第三方库，设置正确的**sysroot**\n\n**3. 头文件路径问题**\n- 问题：交叉编译时找到的是宿主机的头文件而非目标板的\n- 解决：设置CMAKE_SYSROOT和CMAKE_FIND_ROOT_PATH\n\n**4. 浮点运算差异**\n- 问题：ARM软浮点/硬浮点配置不当导致运行时崩溃\n- 解决：编译参数统一使用-mfloat-abi=hard\n\n**关键经验：** 交叉编译的核心是保证工具链、sysroot、目标库三者版本一致。",
  "source": "简历：RK3399交叉编译环境搭建、动态库版本冲突"
}