# RAII在嵌入式开发中的应用

## 知识点速览
- RAII = Resource Acquisition Is Initialization
- 资源获取即初始化，资源释放在析构函数中完成
- 是C++区别于C的核心资源管理范式

## 我的实战经历
在T95项目中，串口设备、USB句柄、互斥锁都通过RAII封装管理：
- 串口连接类在构造时打开端口，析构时自动关闭
- 数据采集缓冲区使用unique_ptr管理，作用域结束自动释放
- 多线程同步使用lock_guard，即使采集线程抛异常也不会死锁

## 深入原理
1. **构造函数获取资源**：打开文件、分配内存、加锁
2. **析构函数释放资源**：关闭文件、释放内存、解锁
3. **栈展开保证**：C++异常机制保证栈上对象一定会析构
4. **移动语义转移所有权**：unique_ptr/自定义类支持资源转移

### 常见RAII封装
| 资源类型 | RAII封装 |
|---------|---------|
| 内存 | unique_ptr / shared_ptr |
| 互斥锁 | lock_guard / unique_lock |
| 文件 | fstream / 自定义FileHandle |
| 设备句柄 | 自定义DeviceHandle |

## 面试表达建议
先说原理（资源绑定对象生命周期），再举项目中的真实例子（串口RAII封装），最后说好处（异常安全、不泄漏）。
