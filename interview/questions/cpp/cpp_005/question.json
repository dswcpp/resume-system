{
  "id": "cpp_005",
  "question": "异常安全有几个级别？如何编写异常安全的代码？",
  "tags": ["异常安全", "RAII", "代码质量"],
  "difficulty": 2,
  "hint": "三个级别（基本/强/不抛出）+ RAII + copy-and-swap惯用法",
  "answer": "异常安全分三个级别：基本保证(异常后对象处于有效但不确定状态，无资源泄漏)、强保证(异常后状态回滚到操作前，要么完全成功要么无效果)、不抛出保证(操作承诺不抛异常，如析构函数、swap)。编写异常安全代码的关键技术：RAII确保资源在异常时自动释放；copy-and-swap惯用法实现强保证——先在临时副本上操作，成功后swap交换状态；先分配后释放原则——先完成可能失败的操作，再修改对象状态。",
  "source": "C++面试准备.md"
}