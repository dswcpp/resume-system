{
  "id": "proj_011",
  "question": "分级日志系统怎么设计的？远程上报怎么做的？",
  "tags": [
    "日志系统",
    "分级日志",
    "远程上报"
  ],
  "difficulty": 2,
  "hint": "日志级别、滚动策略、远程上传三个维度",
  "answer": "**分级设计：**\n- **DEBUG**：开发调试信息，生产环境关闭\n- **INFO**：正常运行信息（启动、连接、断开）\n- **WARN**：潜在问题（重试、资源紧张）\n- **ERROR**：错误但可恢复（通信失败、设备异常）\n\n**日志格式：**\n```\n[2025-04-01 10:23:45.123] [ERROR] [DeviceManager] 设备COM3心跳超时，尝试重连(第2次)\n```\n含：时间戳（毫秒级）、级别、模块名、具体信息\n\n**滚动策略：**\n- 按日滚动：每天一个日志文件\n- 大小限制：单文件不超过**10MB**\n- 保留策略：保留最近30天的日志\n\n**远程上报：**\n- 定时上传：每小时压缩上传一次\n- 异常触发：ERROR级别日志立即上报\n- 传输方式：MQTT推送到运维平台\n- 离线缓存：网络不通时本地缓存，恢复后补传\n\n**实现：** 基于Qt的qInstallMessageHandler拦截所有日志输出，分发到文件写入器和远程上报器。",
  "source": "简历：分级日志DEBUG/INFO/WARN/ERROR、按日滚动、远程上报"
}