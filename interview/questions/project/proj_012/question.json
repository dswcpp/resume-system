{
  "id": "proj_012",
  "question": "交易数据安全怎么保障的？消息持久化和断点续传怎么做？",
  "tags": [
    "数据安全",
    "AES加密",
    "消息持久化",
    "断点续传"
  ],
  "difficulty": 2,
  "hint": "从加密、脱敏、持久化、重传四个方面说",
  "answer": "**数据安全保障：**\n\n**1. 传输加密**\n- 交易报文使用AES-128/256加密\n- 密钥通过安全通道预置，定期更换\n- 通信链路可叠加**TLS**\n\n**2. 敏感数据脱敏**\n- 卡号只保留前6后4位：622588******1234\n- 密码全程不在日志中出现\n- 本地不持久化明文敏感信息\n\n**3. 消息持久化**\n```\n发送方：\n  交易报文 → 加密 → 写入本地持久化队列(SQLite) → 发送\n  发送成功 → 标记已完成\n  发送失败 → 保留在队列中等待重试\n\n接收方：\n  接收 → 解密 → 处理 → 返回ACK\n```\n\n**4. 断点续传**\n- 每条消息有唯一ID和序号\n- 网络恢复后，查询本地队列中未确认的消息\n- 按序号重新发送\n- 接收方通过ID去重，避免重复处理\n\n**柜外交互终端实践：**\n银行交易场景对数据**零丢失**要求极高，通过持久化队列+**ACK**确认+自动重发实现了弱网环境下的交易可靠性。",
  "source": "简历：AES加密、数据脱敏、消息持久化队列、断点续传"
}