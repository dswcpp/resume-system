{
  "id": "proj_004",
  "question": "通信响应时间从100ms优化到60ms，怎么做的？",
  "tags": ["通信优化", "性能优化", "协议"],
  "difficulty": 2,
  "hint": "分析瓶颈(协议解析/线程切换/缓冲),逐层优化",
  "answer": "思行达柜外交互终端，上层应用通过中转服务与硬件驱动通信。用户反馈刷IC卡后显示慢，实测平均100ms。分段埋点定位：JSON序列化15ms、TCP每次新建连接30ms、同步等待20ms。优化：(1)协议改二进制——序列化15ms降到0.1ms，消息体200B降到40B，零拷贝memcpy解析；(2)通信改共享内存——同机TCP 30ms降到0.5ms；(3)异步化——同步等待改回调，UI不阻塞；(4)驱动保持连接避免初始化开销。优化后总延迟约30ms，简历保守写60ms。P95从120ms降到45ms。",
  "source": "深度问题_通信优化100到60ms.md"
}
