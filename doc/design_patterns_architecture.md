# 设计模式与软件架构技术笔记

## 目录
1. [设计模式基础](#设计模式基础)
2. [创建型设计模式](#创建型设计模式)
3. [结构型设计模式](#结构型设计模式)
4. [行为型设计模式](#行为型设计模式)
5. [架构设计原则](#架构设计原则)
6. [软件架构风格](#软件架构风格)
7. [企业级架构模式](#企业级架构模式)

---

## 设计模式基础

### 设计模式概述
- 设计模式的定义与起源
- GoF(Gang of Four)设计模式分类
- 模式的描述格式与要素
- 反模式(Anti-Patterns)识别与避免

### 面向对象设计原则
- 单一职责原则(SRP)
- 开闭原则(OCP)
- 里氏替换原则(LSP)
- 接口隔离原则(ISP)
- 依赖倒置原则(DIP)

### 设计模式应用背景
- 何时应用设计模式
- 设计模式的优缺点权衡
- 过度设计与设计不足的平衡
- 模式组合与演化

## 创建型设计模式

### 单例模式(Singleton)
- 实现方式(懒汉式、饿汉式)
- 线程安全的单例实现
- 使用场景与实际案例
- 单例模式的测试与维护

### 工厂模式家族
- 简单工厂(Simple Factory)
- 工厂方法(Factory Method)
- 抽象工厂(Abstract Factory)
- 工厂模式的变体与应用

### 建造者模式(Builder)
- 构建复杂对象的过程抽象
- Director与Builder的关系
- 流式构建器(Fluent Builder)实现
- 与工厂模式的区别

### 原型模式(Prototype)
- 对象克隆与深浅拷贝
- 原型注册表实现
- 序列化与反序列化应用
- 原型模式在框架中的应用

## 结构型设计模式

### 适配器模式(Adapter)
- 类适配器与对象适配器
- 双向适配器实现
- 在遗留系统集成中的应用
- 与外观模式的比较

### 装饰器模式(Decorator)
- 动态扩展对象功能
- 装饰链的构建与管理
- Java I/O中的装饰器模式
- 装饰器与继承的权衡

### 代理模式(Proxy)
- 远程代理、虚拟代理、保护代理
- 静态代理与动态代理技术
- AOP中的代理模式应用
- 代理链与性能考量

### 组合模式(Composite)
- 部分-整体层次结构表示
- 统一接口设计原则
- 安全组合模式与透明组合模式
- 实际应用场景分析

### 外观模式(Facade)
- 子系统接口统一与简化
- 多层次外观设计
- 与中介者模式的比较
- 在API设计中的应用

## 行为型设计模式

### 观察者模式(Observer)
- 发布-订阅机制实现
- 推模型与拉模型
- 事件驱动系统中的应用
- 避免循环通知与内存泄漏

### 策略模式(Strategy)
- 算法族与上下文关系
- 运行时策略切换
- 与模板方法模式比较
- 在框架设计中的应用

### 命令模式(Command)
- 请求封装与解耦
- 命令队列与宏命令
- 撤销/重做功能实现
- 事务处理中的应用

### 责任链模式(Chain of Responsibility)
- 请求处理链构建
- 纯与不纯的责任链
- 与装饰器模式的结合
- 在中间件设计中的应用

### 状态模式(State)
- 状态转换图与实现
- 状态机框架设计
- 避免条件语句的状态处理
- 上下文与状态对象关系

### 其他行为模式
- 访问者模式(Visitor)应用场景
- 中介者模式(Mediator)与解耦
- 备忘录模式(Memento)状态保存
- 解释器模式(Interpreter)领域语言

## 架构设计原则

### SOLID原则深入
- 单一职责与模块内聚
- 开闭原则与扩展点设计
- 里氏替换与契约设计
- 接口隔离与API演进
- 依赖倒置与控制反转(IoC)

### 其他关键原则
- DRY(Don't Repeat Yourself)
- KISS(Keep It Simple, Stupid)
- YAGNI(You Aren't Gonna Need It)
- 最少知识原则(Law of Demeter)
- 组合优于继承

### 架构质量属性
- 可维护性与技术债务管理
- 可扩展性与弹性设计
- 可测试性与设计反馈
- 性能、安全与可靠性权衡
- 可观测性设计

## 软件架构风格

### 分层架构(Layered Architecture)
- 典型分层模式与职责划分
- 层间依赖控制与耦合管理
- 贫血模型与充血模型
- 跨层访问与性能优化

### 微服务架构(Microservices)
- 服务拆分原则与边界划定
- 微服务通信模式选择
- 分布式事务处理策略
- 服务治理与运维挑战

### 事件驱动架构(Event-Driven)
- 事件源与事件流管理
- 事件风暴分析方法
- CQRS与事件溯源(Event Sourcing)
- 异步通信与最终一致性

### 六边形架构(Hexagonal/Ports and Adapters)
- 领域逻辑与外部系统隔离
- 端口与适配器设计
- 可测试性与外部依赖替换
- 与洋葱架构的关系

### 云原生架构(Cloud Native)
- 12-Factor应用原则
- 容器化与服务网格
- 无服务器架构(Serverless)设计
- 弹性伸缩与韧性设计

## 企业级架构模式

### 领域驱动设计(DDD)
- 战略设计与战术设计
- 限界上下文(Bounded Context)
- 领域模型构建过程
- 聚合(Aggregate)与实体设计

### 企业集成模式(EIP)
- 消息通道与路由
- 消息转换与适配
- 集成拓扑结构设计
- ESB与消息中间件

### 大型系统架构策略
- 单体分解策略与方法
- 遗留系统现代化路径
- 前后端分离架构设计
- API网关与BFF模式

### DevOps与架构
- 持续集成/持续部署(CI/CD)
- 基础设施即代码(IaC)
- 可观测性三支柱实现
- 混沌工程与韧性测试

---

## 实践案例分析

### 电商系统架构演进
- 从单体到微服务的迁移策略
- 订单系统设计与模式应用
- 库存与支付系统架构挑战
- 搜索与推荐系统架构特点

### 金融系统架构特点
- 高可用性与一致性保障
- 风控系统架构设计
- 事务处理与异常恢复机制
- 合规审计与安全架构

### 大规模互联网架构
- 高并发处理架构模式
- 数据分片与分区策略
- 缓存体系设计与优化
- 全球化部署与延迟处理 